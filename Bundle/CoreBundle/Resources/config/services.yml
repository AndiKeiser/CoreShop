imports:
  - { resource: "services/context.yml" }
  - { resource: "services/storage.yml" }
  - { resource: "services/form.yml" }

parameters:
  coreshop.core.object_path: '/coreshop'

services:
  coreshop.core.object_service:
    class: CoreShop\Component\Core\Pimcore\ObjectService

  coreshop.context.locale.composite:
    class: CoreShop\Component\Core\Context\CompositeLocaleContext
    decorates: coreshop.context.locale
    decoration_priority: 256
    public: false

  coreshop.context.locale.pimcore:
    class: CoreShop\Component\Core\Context\PimcoreLocaleContext
    arguments: ['@pimcore.locale']
    tags:
      - { name: coreshop.context.locale }

  coreshop.taxation.factory.tax_calculator:
    class: CoreShop\Bundle\CoreBundle\Taxation\TaxCalculatorFactory
    arguments: ['@coreshop.repository.tax_rule']